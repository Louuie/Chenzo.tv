{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Elias\\\\Documents\\\\Programming\\\\Chenzo.tv\\\\frontend\\\\chenzo.tv\\\\src\\\\components\\\\Poll\\\\Poll.tsx\",\n    _s = $RefreshSig$();\n\nimport { Suspense, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { collection, onSnapshot } from \"firebase/firestore\";\nimport db from \"../../firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Poll() {\n  _s();\n\n  let params = useParams();\n  let [title, setTitle] = useState('');\n  let [options, setOptions] = useState([]);\n  let [option1, setOption1] = useState('');\n  let [option2, setOption2] = useState('');\n  let [option3, setOption3] = useState('');\n  let [option4, setOption4] = useState('');\n  let [optionOneCount, setOptionOneCount] = useState(0);\n  let [optionTwoCount, setOptionTwoCount] = useState(0);\n  let [optionThreeCount, setOptionThreeCount] = useState(0);\n  let [optionFourCount, setOptionFourCount] = useState(0);\n\n  const onOption1 = async () => {\n    setOptionOneCount(optionOneCount + 1);\n  };\n\n  const onOption2 = async () => {\n    setOptionTwoCount(optionTwoCount + 1);\n  };\n\n  const onOption3 = async () => {\n    setOptionThreeCount(optionThreeCount + 1);\n  };\n\n  const onOption4 = async () => {\n    setOptionFourCount(optionFourCount + 1);\n  };\n\n  useEffect(() => {\n    // let totalVotes = optionOneCount + optionTwoCount + optionThreeCount + optionFourCount;\n    // let votePercentageA = optionOneCount / totalVotes * 100;\n    // let votePercentageB = optionTwoCount / totalVotes * 100;\n    // let votePercentageC = optionThreeCount / totalVotes * 100;\n    // let votePercentageD = optionFourCount / totalVotes * 100;\n    // console.log(`${votePercentageA}% voted for Chenzo`);\n    // console.log(`${votePercentageB}% voted for Marky`);\n    // console.log(`${votePercentageC}% voted for Flax`);\n    // console.log(`${votePercentageD}% voted for Ally`);\n    onSnapshot(collection(db, \"polls\"), snapshot => {\n      snapshot.docs.map(doc => {\n        if (doc.id === params.id) {\n          const data = doc.data();\n          setTitle(data.title);\n          setOptions(data.options);\n          setOption1(data.options[0]);\n          setOption2(data.options[1]);\n          setOption3(data.options[2]);\n          setOption4(data.options[3]);\n          console.log(doc.data());\n        }\n      });\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onOption1,\n        children: option1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 63\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onOption2,\n        children: option2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 63\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onOption3,\n        children: option3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 63\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onOption4,\n        children: option4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 63\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Poll, \"iP3lQyP6EXY8gqGiTpNe7qlvwtg=\", false, function () {\n  return [useParams];\n});\n\n_c = Poll;\n\nvar _c;\n\n$RefreshReg$(_c, \"Poll\");","map":{"version":3,"sources":["C:/Users/Elias/Documents/Programming/Chenzo.tv/frontend/chenzo.tv/src/components/Poll/Poll.tsx"],"names":["Suspense","useEffect","useState","useParams","collection","onSnapshot","db","Poll","params","title","setTitle","options","setOptions","option1","setOption1","option2","setOption2","option3","setOption3","option4","setOption4","optionOneCount","setOptionOneCount","optionTwoCount","setOptionTwoCount","optionThreeCount","setOptionThreeCount","optionFourCount","setOptionFourCount","onOption1","onOption2","onOption3","onOption4","snapshot","docs","map","doc","id","data","console","log"],"mappings":"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","sourcesContent":["import react, { Suspense, useEffect, useState, } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { collection, doc, getDoc, getDocs, onSnapshot, updateDoc } from \"firebase/firestore\";\r\nimport db from \"../../firebase/firestore\";\r\n\r\nexport default function Poll() {\r\n    \r\n    let params = useParams();\r\n    let [title, setTitle] = useState('');\r\n    let [options, setOptions] = useState([]);\r\n    let [option1, setOption1] = useState('');\r\n    let [option2, setOption2] = useState('');\r\n    let [option3, setOption3] = useState('');\r\n    let [option4, setOption4] = useState('');\r\n    let [optionOneCount, setOptionOneCount] = useState(0);\r\n    let [optionTwoCount, setOptionTwoCount] = useState(0);\r\n    let [optionThreeCount, setOptionThreeCount] = useState(0);\r\n    let [optionFourCount, setOptionFourCount] = useState(0);\r\n\r\n    const onOption1 = async () => {\r\n        setOptionOneCount(optionOneCount + 1);\r\n    };\r\n\r\n    \r\n    const onOption2 = async () => {\r\n        setOptionTwoCount(optionTwoCount + 1);\r\n    };\r\n\r\n    \r\n    const onOption3 = async () => {\r\n        setOptionThreeCount(optionThreeCount + 1);\r\n    };\r\n\r\n    \r\n    const onOption4 = async () => {\r\n        setOptionFourCount(optionFourCount + 1);\r\n    };\r\n\r\n    useEffect(() => {\r\n        // let totalVotes = optionOneCount + optionTwoCount + optionThreeCount + optionFourCount;\r\n        // let votePercentageA = optionOneCount / totalVotes * 100;\r\n        // let votePercentageB = optionTwoCount / totalVotes * 100;\r\n        // let votePercentageC = optionThreeCount / totalVotes * 100;\r\n        // let votePercentageD = optionFourCount / totalVotes * 100;\r\n        // console.log(`${votePercentageA}% voted for Chenzo`);\r\n        // console.log(`${votePercentageB}% voted for Marky`);\r\n        // console.log(`${votePercentageC}% voted for Flax`);\r\n        // console.log(`${votePercentageD}% voted for Ally`);\r\n\r\n        onSnapshot(collection(db, \"polls\"), (snapshot) => {\r\n            snapshot.docs.map(doc => {\r\n                if(doc.id === params.id) {\r\n                    const data = doc.data();\r\n                    setTitle(data.title);\r\n                    setOptions(data.options);\r\n                    setOption1(data.options[0]);\r\n                    setOption2(data.options[1]);\r\n                    setOption3(data.options[2]);\r\n                    setOption4(data.options[3]);\r\n                    console.log(doc.data());\r\n                }\r\n            });\r\n        });\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <Suspense fallback={<div></div>}>\r\n            <div>\r\n                <h1>{title}</h1>\r\n                <button onClick={onOption1}>{option1}</button><br></br>\r\n                <button onClick={onOption2}>{option2}</button><br></br>\r\n                <button onClick={onOption3}>{option3}</button><br></br>\r\n                <button onClick={onOption4}>{option4}</button><br></br>\r\n            </div>\r\n        </Suspense>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}